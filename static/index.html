<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="utf-8">
    <title>GoBkm</title>
    <meta name="description" content="A minimalist folder-based bookmark manager">
    <meta name="author" content="Thomas Bellembois">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <!-- from https://realfavicongenerator.net/ -->
    <link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/img/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/img/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest/manifest.json">
    <link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/img/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/jquery.contextMenu.min.css">
    <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="/css/fontawesome-all.min.css">
    <link rel="stylesheet" type="text/css" href="/css/gijgo.min.css">
    <link rel="stylesheet" type="text/css" href="/css/select2.min.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">

    <!-- Some variables passed by the handler -->
    <script>
        var GoBkmProxyURL = "{{.GoBkmProxyURL}}"
        var GoBkmProxyHost = "{{.GoBkmProxyHost}}"
    </script>

    <!-- Include jQuery -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/jquery.contextMenu.min.js"></script>
    <script src="/js/jquery.ui.position.min.js"></script>
    <!-- Include Popper -->
    <script type="text/javascript" src="/js/popper.min.js"></script>
    <!-- Include Bootstrap -->
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <!-- Include Tooltip -->
    <script type="text/javascript" src="/js/tooltip.min.js"></script>
    <!-- Include Gijgo -->
    <script type="text/javascript" src="/js/core.js"></script>
    <script type="text/javascript" src="/js/tree.js"></script>
    <!-- Include Clipboard -->
    <script type="text/javascript" src="/js/clipboard.min.js"></script>
    <!-- Include Select2 -->
    <script type="text/javascript" src="/js/select2.full.min.js"></script>

</head>

<body>

<div class="container-fluid" id="container">

    <input type="hidden" name="cutted-nodeid">
    <input type="hidden" name="cutted-nodeisfolder">

    <div class="row">
        <div class="col-sm-12">
            <a id="collapser" class="btn btn-light" data-toggle="collapse" href="#header" role="button" aria-expanded="false" aria-controls="header">
                <i id="collapse-button" class="fas fa-angle-double-up"></i>
            </a>
        </div>
    </div>

    <div ondrop="dzDrop(event)" ondragover="dzAllowDrop(event)" id="drop-zone" title="drop new bookmarks here">
        <span class="badge">
            <i class="fas fa-cloud-download-alt"></i>
        </span>
    </div>
    <div id="clipboard-message-ok" class="alert alert-success" role="alert">
        copied to clipboard
    </div>
    <div id="clipboard-message-nok" class="alert alert-danger" role="alert">
        an error occured trying to copy to clipboard
    </div>

        <div id="header" class="row collapse show col-xs-12">

            <!--
            Copy to clipboard messages and drop zone
            -->
            <div class="row">
                <div class="col-sm-12">

                </div>
            </div>

            <!--
            Starred bookmarks
            -->
            <div class="row">
                <div class="col-sm-12">
                    <div class="card-body card" id="starred-list">
                        <h5 class="card-title">
                            <span class="fas fa-star" aria-hidden="true"></span>
                        </h5>
                        <ul id="starred">
                            {{with .Bkms}} {{range .}}
                            <li id="bookmark-starred--{{.Id}}">
                                <div class="bookmark">
                                    <img src="{{.Favicon}}" alt="" class="favicon">
                                    <span class="bookmark-starred-link" title="{{.URL}}" onclick="window.open('{{.URL}}', '_blank');">{{.Title}}
                                    </span>
                                    <a href="#" onclick="unStar('-{{.Id}}');" class="fas fa-star-half" aria-hidden="true" title="Remove star."></a>
                                </div>
                            </li>
                            {{end}} {{end}}
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Search form -->
            <div class="row">
                <div class="input-group col-sm-12" id="search-box">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1"><i class="fas fa-search"></i></span>
                    </div>
                    <input type="text" id="search-form-input" class="form-control" placeholder="title or tag" aria-describedby="basic-addon1">
                </div>
                <div class="col-sm-12" id="search-result">
                    <ul class="list-group">
                    </ul>
                </div>
            </div>

        </div> <!-- #header -->

    <!-- Main tree -->
    <div class="row">
        <div id="scrollParent" class="col-sm-12">
            <div id="tree"></div>
        </div>
    </div>

    <!-- Tags list -->
    <div class="row">
        <div id="tags" class="col-sm-12">
            <i class="fas fa-tags"></i>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer" class="row">

        <!-- Import form -->
        <div id="action-box" class="col-sm-12">
            <div id="import-input-box" style="display:none">
                <form id="import-file-form" action="/import/" method="post" enctype="multipart/form-data">
                    <div class="input-group">
                        <input type="file" name="importFile" accept=".html" id="import-file" class="form-control">
                        <span class="input-group-btn">
                        <button onclick="document.getElementById('import-file-form').submit();" class="btn btn-default" type="button"><i class="fas fa-download"></i></button>
                        </span>
                    </div>
                </form>
            </div>
        </div>

        <!-- Copyright -->
        <div id="copyright" class="col-sm-12">
            <!--
            <img id="logo" src="/img/favicon.svg" alt="logo" title="GoBkm - Copyright (C) 2006-2016 Thomas Bellembois. Licensed under the GNU GPL, Version 3.0."/>
            -->
        </div>

        <!-- Bookmarklets -->
        <div class="card panel-default row col-sm-12" id="bookmarklet" style="display: none;">
            <div class="card-body">
                <h5 class="card-title">bookmarklets</h3>
                <div id="bookmarklet-app">
                    <a title="GoBkm application bookmarklet: drop me in bookmarks bar." href="javascript:window.open('{{.GoBkmProxyURL}}?target=_blank','sbPopWin','directories=no,width=200,height=600,left=0,top=0,scrollbars=yes,location=no,menubar=no, status=no, toolbar=no');void(0)">GoBkm application</a>
                </div>
                <div id="bookmarklet-add">
                    <a title="GoBkm bookmark current page bookmarklet; drop me in your bookmarks bar." href="javascript:window.open('{{.GoBkmProxyURL}}/bookmarkThis/?target=_self&url=' + encodeURI(location.href) + '&title=' + document.title,'sbPopWin','directories=no,width=200,height=600,left=0,top=0,scrollbars=yes,location=no,menubar=no, status=no, toolbar=no');void(0)">GoBkm bookmark current page</a>
                </div>
            </div>
        </div>
        
        <!-- Import and export buttons -->
        <div id="import-export row" class="col-sm-12">
            <div class="btn-group" role="group" aria-label="...">
                <button type="button" title="export bookmarks" class="btn btn-default" id="export-box"><i class="fas fa-upload"></i></button>
                <button type="button" title="import bookmarks" class="btn btn-default" id="import-box"><i class="fas fa-download"></i></button>
                <button type="button" title="bookmarklets" class="btn btn-default" id="bookmaklet-box" onclick="toggleElement('bookmarklet')"><i class="fas fa-globe"></i></button>
            </div>
        </div>
    </div>

</div>

<!-- include custom js file -->
<script src="/js/main.js"></script>

</body>

</html>
